(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{697:(e,t,a)=>{Promise.resolve().then(a.bind(a,1880))},1880:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(5155),r=a(2115),i=a(2553),l=a(2078),n=a(7260),d=a(1733),c=a(6497);let o=(0,a(1847).A)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);var x=a(6132),m=a(2529);let h=(0,l.Dk)().length?(0,l.Sx)():(0,l.Wp)({apiKey:"AIzaSyAYEG2XdbuQlGflMwppjtj54ur4jKs89-A",authDomain:"kaamon6363.firebaseapp.com",projectId:"kaamon6363",storageBucket:"kaamon6363.firebasestorage.app",messagingSenderId:"582122881331",appId:"1:582122881331:web:8fac47d3e8646e56a47e46",measurementId:"G-7GFJK5G724"}),p=(0,i.xI)(h);function u(){let[e,t]=(0,r.useState)(1),[a,l]=(0,r.useState)("+91"),[h,u]=(0,r.useState)(""),[f,b]=(0,r.useState)(null),[y,g]=(0,r.useState)(!1),[j,N]=(0,r.useState)(""),[v,w]=(0,r.useState)(0),[k,S]=(0,r.useState)(""),P=(0,n.useRouter)(),C=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(j){let e=setTimeout(()=>N(""),5e3);return()=>clearTimeout(e)}},[j]),(0,r.useEffect)(()=>{let e;return v>0&&(e=setTimeout(()=>w(v-1),1e3)),()=>clearTimeout(e)},[v]),(0,r.useEffect)(()=>{if(C.current&&!window.recaptchaVerifier)try{window.recaptchaVerifier=new i.kT(p,C.current,{size:"invisible"}),window.recaptchaVerifier.render()}catch(e){console.error("reCAPTCHA error:",e)}},[]);let E=async e=>{e.preventDefault(),N(""),g(!0),S("Sending verification code...");try{let e=a.replace(/[\s\-()]/g,"");e.startsWith("+")||(e=10===e.length?"+91".concat(e):"+".concat(e));let s=await (0,i.ik)(p,e,window.recaptchaVerifier);b(s),t(2),w(60)}catch(e){N(e.message||"Failed to send verification code. Please try again.")}finally{g(!1)}},V=async e=>{e.preventDefault(),N(""),g(!0),S("Verifying code...");try{await f.confirm(h),P.push("/dashboard")}catch(e){N("Invalid verification code. Please try again.")}finally{g(!1)}},A=async()=>{if(!(v>0)){N(""),g(!0),S("Resending code...");try{let e=a.replace(/[\s\-()]/g,"");e.startsWith("+")||(e=10===e.length?"+91".concat(e):"+".concat(e));let t=await (0,i.ik)(p,e,window.recaptchaVerifier);b(t),u(""),w(60)}catch(e){N(e.message||"Failed to resend verification code.")}finally{g(!1)}}};return 1===e?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:[(0,s.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 space-y-8",children:[(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)(d.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"mx-auto bg-gradient-to-br from-emerald-100 to-blue-100 rounded-full h-20 w-20 flex items-center justify-center",children:(0,s.jsx)(o,{className:"w-10 h-10 text-emerald-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Sign in with your mobile number"})]})]}),(0,s.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-800",children:"Mobile Number *"}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-emerald-50 to-blue-50 p-6 rounded-2xl border border-emerald-100",children:(0,s.jsx)("input",{type:"tel",value:a,onChange:e=>l(e.target.value.replace(/[^\d+\-\s()]/g,"")),placeholder:"+91 98765 43210",className:"w-full bg-transparent text-lg font-medium outline-none placeholder-gray-400",required:!0})}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"We'll send a 6-digit verification code to this number"})]}),(0,s.jsx)("button",{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-emerald-600 to-blue-600 hover:from-emerald-700 hover:to-blue-700 text-white font-bold py-4 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:y?(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:k})]}):"Send Verification Code"})]}),(0,s.jsx)("div",{className:"text-center text-sm text-gray-500",children:(0,s.jsx)("p",{children:"\xa9 2025 Shramic Networks Pvt Ltd."})})]})}),(0,s.jsx)("div",{ref:C,className:"sr-only"}),(0,s.jsx)(c.N,{children:j&&(0,s.jsx)(d.P.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-4 right-4 z-50 bg-red-500 text-white px-6 py-4 rounded-xl shadow-2xl max-w-md",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(x.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Error"}),(0,s.jsx)("p",{className:"text-sm",children:j})]})]})})})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-blue-50 to-purple-50 flex items-center justify-center p-4",children:[(0,s.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-8 space-y-8",children:[(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)(d.P.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"mx-auto bg-gradient-to-br from-blue-100 to-purple-100 rounded-full h-20 w-20 flex items-center justify-center",children:(0,s.jsx)(m.A,{className:"w-10 h-10 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-extrabold text-gray-800 mb-2",children:"Verify Your Number"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Enter the 6-digit code sent to ",a]})]})]}),(0,s.jsxs)("form",{onSubmit:V,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-800",children:"Verification Code *"}),(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-2xl border border-blue-100",children:(0,s.jsx)("input",{type:"text",value:h,onChange:e=>u(e.target.value.replace(/\D/g,"")),maxLength:6,placeholder:"000000",className:"w-full text-center text-4xl font-mono font-bold tracking-widest bg-transparent outline-none text-gray-800",required:!0})}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Check your SMS for the code"})]}),(0,s.jsx)("button",{type:"submit",disabled:y||6!==h.length,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:y?(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{children:k})]}):"Verify & Login"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{t(1),u(""),N(""),l("+91")},className:"w-full text-emerald-600 hover:text-emerald-700 font-semibold py-3 rounded-xl hover:bg-emerald-50 transition-colors",children:"Change Phone Number"}),(0,s.jsx)("div",{className:"text-center",children:v>0?(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Resend code in ",(0,s.jsxs)("span",{className:"font-bold text-gray-700",children:[v,"s"]})]}):(0,s.jsx)("button",{type:"button",onClick:A,disabled:y,className:"text-sm text-blue-600 hover:text-blue-700 font-semibold disabled:opacity-50",children:"Didn't receive the code? Resend"})})]}),(0,s.jsx)("div",{className:"text-center text-sm text-gray-500",children:(0,s.jsx)("p",{children:"\xa9 2025 Shramic Networks Pvt Ltd."})})]})}),(0,s.jsx)(c.N,{children:j&&(0,s.jsx)(d.P.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-4 right-4 z-50 bg-red-500 text-white px-6 py-4 rounded-xl shadow-2xl max-w-md",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,s.jsx)(x.A,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Error"}),(0,s.jsx)("p",{className:"text-sm",children:j})]})]})})})]})}}},e=>{e.O(0,[965,42,544,441,493,358],()=>e(e.s=697)),_N_E=e.O()}]);